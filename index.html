<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BI –ê–ª–∞—Ä–º–∞ –∑–∞ –ê–Ω–æ–º–∞–ª–∏–∏ - Professional Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Login Screen Styles */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            max-width: 450px;
            width: 100%;
            text-align: center;
        }

        .login-logo {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .login-title {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .login-subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 15px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .btn-google {
            background: white;
            border: 2px solid #e0e0e0;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-google:hover {
            background: #f8f9fa;
            border-color: #667eea;
        }

        .divider {
            margin: 25px 0;
            position: relative;
            text-align: center;
            color: #999;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e0e0e0;
        }

        .divider span {
            background: rgba(255, 255, 255, 0.95);
            padding: 0 15px;
        }

        .switch-form {
            margin-top: 20px;
            color: #666;
        }

        .switch-form a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .switch-form a:hover {
            text-decoration: underline;
        }

        /* Main App Styles (previous styles) */
        .app-container {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-email {
            color: #666;
            font-size: 0.9rem;
        }

        .user-role {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .logout-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #ff5252;
            transform: translateY(-1px);
        }

        .screen {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .screen.active {
            display: block;
        }

        .screen-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .summary-card h3 {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .summary-card p {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .notifications-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .notification-card {
            background: white;
            border-left: 5px solid;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .notification-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .notification-card.critical {
            border-left-color: #ff6b6b;
        }

        .notification-card.warning {
            border-left-color: #feca57;
        }

        .notification-card.normal {
            border-left-color: #48dbfb;
        }

        .notification-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-info h4 {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: #333;
        }

        .notification-info p {
            color: #666;
            font-size: 0.9rem;
        }

        .notification-meta {
            text-align: right;
            color: #999;
            font-size: 0.8rem;
        }

        .notification-value {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .critical .notification-value {
            color: #ff6b6b;
        }

        .warning .notification-value {
            color: #feca57;
        }

        .normal .notification-value {
            color: #48dbfb;
        }

        .form-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .metric-option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .metric-option:hover, .metric-option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .step-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .alarms-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .alarm-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .alarm-info h4 {
            color: #333;
            margin-bottom: 5px;
        }

        .alarm-info p {
            color: #666;
            font-size: 0.9rem;
        }

        .alarm-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alarm-control {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .alarm-control:hover {
            background: #f0f0f0;
        }

        .status-badge {
            background: #48dbfb;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .details-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .detail-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .detail-item h4 {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .detail-item .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
        }

        .detail-item .critical {
            color: #ff6b6b;
        }

        .notes-section {
            margin-top: 20px;
        }

        .notes-section h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .notes-section textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: inherit;
            resize: vertical;
        }

        .notes-section textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .save-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .save-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
        }

        .nav-btn {
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: #666;
            transition: all 0.3s ease;
        }

        .nav-btn.active, .nav-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .nav-btn span:first-child {
            font-size: 1.2rem;
        }

        /* Admin Panel Styles */
        .admin-panel {
            display: none;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .admin-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .users-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .users-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th,
        .users-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .users-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .role-select {
            padding: 5px 10px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background: white;
        }

        @media (max-width: 768px) {
            .app-container {
                padding: 10px;
            }
            
            .header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .user-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation {
                padding: 10px 0;
            }
            
            .nav-btn {
                padding: 8px 10px;
                font-size: 0.7rem;
            }
            
            .login-card {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="login-logo">üîê</div>
            <h1 class="login-title">BI –ê–ª–∞—Ä–º–∞ –∑–∞ –ê–Ω–æ–º–∞–ª–∏–∏</h1>
            <p class="login-subtitle">Professional Edition ‚Ä¢ Secure Access</p>
            
            <!-- Login Form -->
            <div id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email –∞–¥—Ä–µ—Å</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">–ü–∞—Ä–æ–ª–∞</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –ø–∞—Ä–æ–ª–∞">
                </div>
                <button class="btn btn-primary" onclick="login()">üîì –í—Ö–æ–¥</button>
                
                <div class="divider">
                    <span>–∏–ª–∏</span>
                </div>
                
                <button class="btn btn-google" onclick="loginWithGoogle()">
                    <span>üîç</span>
                    –í—Ö–æ–¥ —Å Google
                </button>
                
                <div class="switch-form">
                    –ù—è–º–∞—Ç–µ –∞–∫–∞—É–Ω—Ç? <a href="#" onclick="showRegister()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" style="display: none;">
                <div class="form-group">
                    <label for="registerName">–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è</label>
                    <input type="text" id="registerName" class="form-control" placeholder="–í–∞—à–µ—Ç–æ –∏–º–µ">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email –∞–¥—Ä–µ—Å</label>
                    <input type="email" id="registerEmail" class="form-control" placeholder="–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª@email.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword">–ü–∞—Ä–æ–ª–∞</label>
                    <input type="password" id="registerPassword" class="form-control" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –ø–∞—Ä–æ–ª–∞">
                </div>
                <div class="form-group">
                    <label for="registerCompany">–ö–æ–º–ø–∞–Ω–∏—è</label>
                    <input type="text" id="registerCompany" class="form-control" placeholder="–í–∞—à–∞—Ç–∞ –∫–æ–º–ø–∞–Ω–∏—è">
                </div>
                <button class="btn btn-primary" onclick="register()">‚ú® –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                
                <div class="switch-form">
                    –ò–º–∞—Ç–µ –∞–∫–∞—É–Ω—Ç? <a href="#" onclick="showLogin()">–í—Ö–æ–¥</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="app-container">
        <!-- Header with User Info -->
        <div class="header">
            <div class="header-title">
                <span>üîî</span>
                BI –ê–ª–∞—Ä–º–∞ –∑–∞ –ê–Ω–æ–º–∞–ª–∏–∏
            </div>
            <div class="user-info">
                <span id="userEmail" class="user-email">–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª@email.com</span>
                <span id="userRole" class="user-role">–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</span>
                <button class="logout-btn" onclick="logout()">–ò–∑—Ö–æ–¥</button>
            </div>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboard" class="screen active">
            <h2 class="screen-title">
                <span>üìä</span>
                –¢–∞–±–ª–æ –∑–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            </h2>
            
            <div class="alert-summary">
                <div class="summary-card">
                    <h3>1</h3>
                    <p>–ê–∫—Ç–∏–≤–Ω–∏ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</p>
                </div>
                <div class="summary-card">
                    <h3>5</h3>
                    <p>–ù–∞–±–ª—é–¥–∞–≤–∞–Ω–∏ –ú–µ—Ç—Ä–∏–∫–∏</p>
                </div>
                <div class="summary-card">
                    <h3>94%</h3>
                    <p>–¢–æ—á–Ω–æ—Å—Ç –Ω–∞ –ü—Ä–æ–≥–Ω–æ–∑–∏—Ç–µ</p>
                </div>
            </div>

            <h3>–ü–æ—Å–ª–µ–¥–Ω–∏ –ò–∑–≤–µ—Å—Ç–∏—è</h3>
            <div class="notifications-list">
                <div class="notification-card critical" onclick="showAnomalyDetails('sales')">
                    <div class="notification-content">
                        <div class="notification-info">
                            <h4>–û–±—â–∏ –ü—Ä–æ–¥–∞–∂–±–∏</h4>
                            <p>–ö—Ä–∏—Ç–∏—á–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–∞–Ω–æ</p>
                        </div>
                        <div class="notification-meta">
                            <div class="notification-value">-18%</div>
                            <div>–°–ø–∞–¥ —Å–ø—Ä—è–º–æ –≤—á–µ—Ä–∞</div>
                            <div>–ü—Ä–µ–¥–∏ 2 —á–∞—Å–∞</div>
                        </div>
                    </div>
                </div>
                
                <div class="notification-card warning">
                    <div class="notification-content">
                        <div class="notification-info">
                            <h4>–°—Ä–µ–¥–Ω–∞ –°—Ç–æ–π–Ω–æ—Å—Ç –ö–æ—à–Ω–∏—Ü–∞</h4>
                            <p>–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ –Ω–∞–º–∞–ª–µ–Ω–∏–µ</p>
                        </div>
                        <div class="notification-meta">
                            <div class="notification-value">-8%</div>
                            <div>–°–ø–∞–¥ —Å–ø—Ä—è–º–æ –≤—á–µ—Ä–∞</div>
                            <div>–ü—Ä–µ–¥–∏ 5 —á–∞—Å–∞</div>
                        </div>
                    </div>
                </div>
                
                <div class="notification-card normal">
                    <div class="notification-content">
                        <div class="notification-info">
                            <h4>–ë—Ä–æ–π –ö–ª–∏–µ–Ω—Ç–∏</h4>
                            <p>–ù–æ—Ä–º–∞–ª–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏</p>
                        </div>
                        <div class="notification-meta">
                            <div class="notification-value">+3%</div>
                            <div>–†–∞—Å—Ç–µ–∂ —Å–ø—Ä—è–º–æ –≤—á–µ—Ä–∞</div>
                            <div>–ü—Ä–µ–¥–∏ 1 —á–∞—Å</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alerts Management Screen -->
        <div id="alerts" class="screen">
            <h2 class="screen-title">
                <span>‚öôÔ∏è</span>
                –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ê–ª–∞—Ä–º–∏
            </h2>

            <!-- Create New Alert Steps -->
            <div id="step1" class="form-section">
                <h3>–°—Ç—ä–ø–∫–∞ 1: –ò–∑–±–µ—Ä–µ—Ç–µ –º–µ—Ç—Ä–∏–∫–∞ –∑–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</h3>
                <div class="metric-grid">
                    <div class="metric-option" onclick="selectMetric('sales', this)">
                        <div>üí∞</div>
                        <div>–û–±—â–∏ –ü—Ä–æ–¥–∞–∂–±–∏</div>
                    </div>
                    <div class="metric-option" onclick="selectMetric('basket', this)">
                        <div>üõí</div>
                        <div>–°—Ä–µ–¥–Ω–∞ –°—Ç–æ–π–Ω–æ—Å—Ç –ö–æ—à–Ω–∏—Ü–∞</div>
                    </div>
                    <div class="metric-option" onclick="selectMetric('customers', this)">
                        <div>üë•</div>
                        <div>–ë—Ä–æ–π –ö–ª–∏–µ–Ω—Ç–∏</div>
                    </div>
                    <div class="metric-option" onclick="selectMetric('loading', this)">
                        <div>‚ö°</div>
                        <div>–í—Ä–µ–º–µ –∑–∞ –ó–∞—Ä–µ–∂–¥–∞–Ω–µ</div>
                    </div>
                    <div class="metric-option" onclick="selectMetric('conversion', this)">
                        <div>üìà</div>
                        <div>–ö–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞ –ö–æ–Ω–≤–µ—Ä—Å–∏—è</div>
                    </div>
                    <div class="metric-option" onclick="selectMetric('registrations', this)">
                        <div>‚ú®</div>
                        <div>–ù–æ–≤–∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
                    </div>
                </div>
                <div class="step-navigation">
                    <div></div>
                    <button type="button" class="btn btn-primary" onclick="nextStep(2)">–ù–∞–ø—Ä–µ–¥</button>
                </div>
            </div>

            <div id="step2" class="form-section" style="display: none;">
                <h3>–°—Ç—ä–ø–∫–∞ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≥–æ–≤–µ—Ç–µ –∑–∞ –∞–ª–∞—Ä–º–∞</h3>
                <div class="form-row">
                    <div>
                        <label>–¢–∏–ø –ø—Ä–∞–≥</label>
                        <select class="form-control">
                            <option>–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞ –ø—Ä–æ–º—è–Ω–∞</option>
                            <option>–ê–±—Å–æ–ª—é—Ç–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç</option>
                        </select>
                    </div>
                    <div>
                        <label>–°—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–∞–≥–∞</label>
                        <input type="number" class="form-control" placeholder="15" value="15">
                    </div>
                </div>
                <div class="form-row">
                    <div>
                        <label>–ü–µ—Ä–∏–æ–¥ –∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</label>
                        <select class="form-control">
                            <option>–°–ø—Ä—è–º–æ –≤—á–µ—Ä–∞</option>
                            <option>–°–ø—Ä—è–º–æ –º–∏–Ω–∞–ª–∞—Ç–∞ —Å–µ–¥–º–∏—Ü–∞</option>
                            <option>–°–ø—Ä—è–º–æ –º–∏–Ω–∞–ª–∏—è –º–µ—Å–µ—Ü</option>
                        </select>
                    </div>
                </div>
                <div class="step-navigation">
                    <button type="button" class="btn btn-secondary" onclick="prevStep(1)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="btn btn-primary" onclick="nextStep(3)">–ù–∞–ø—Ä–µ–¥</button>
                </div>
            </div>

            <div id="step3" class="form-section" style="display: none;">
                <h3>–°—Ç—ä–ø–∫–∞ 3: API –∫–ª—é—á –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ</h3>
                <div class="form-row">
                    <div>
                        <label>API –∫–ª—é—á (–ø–æ –∏–∑–±–æ—Ä)</label>
                        <input type="text" class="form-control" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ API –∫–ª—é—á –∑–∞ —Ä–µ–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏">
                        <small style="color: #666;">–ê–∫–æ –Ω–µ —Å–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏, —â–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–∏–º—É–ª–∏—Ä–∞–Ω–∏ –¥–∞–Ω–Ω–∏</small>
                    </div>
                </div>
                <div class="step-navigation">
                    <button type="button" class="btn btn-secondary" onclick="prevStep(2)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="btn btn-primary" onclick="createAlert()">–°—ä–∑–¥–∞–π –ê–ª–∞—Ä–º–∞</button>
                </div>
            </div>

            <!-- Existing Alarms List -->
            <div class="form-section">
                <h3>–°—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –ê–ª–∞—Ä–º–∏</h3>
                <div class="alarms-list">
                    <div class="alarm-item">
                        <div class="alarm-info">
                            <h4>–û–±—â–∏ –ü—Ä–æ–¥–∞–∂–±–∏</h4>
                            <p>–°–ø–∞–¥ > 15% —Å–ø—Ä—è–º–æ –≤—á–µ—Ä–∞</p>
                        </div>
                        <div class="alarm-controls">
                            <span class="status-badge">–ê–∫—Ç–∏–≤–Ω–∞</span>
                            <button class="alarm-control" onclick="toggleAlert(this)" title="–ü–∞—É–∑–∞">‚è∏Ô∏è</button>
                        </div>
                    </div>
                    
                    <div class="alarm-item">
                        <div class="alarm-info">
                            <h4>–ë—Ä–æ–π –ö–ª–∏–µ–Ω—Ç–∏</h4>
                            <p>–°–ø–∞–¥ > 20% —Å–ø—Ä—è–º–æ –º–∏–Ω–∞–ª–∞—Ç–∞ —Å–µ–¥–º–∏—Ü–∞</p>
                        </div>
                        <div class="alarm-controls">
                            <span class="status-badge">–ê–∫—Ç–∏–≤–Ω–∞</span>
                            <button class="alarm-control" onclick="toggleAlert(this)" title="–ü–∞—É–∑–∞">‚è∏Ô∏è</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Details Screen -->
        <div id="details" class="screen">
            <h2 class="screen-title">
                <span>üîç</span>
                –î–µ—Ç–∞–π–ª–∏ –∑–∞ –ê–Ω–æ–º–∞–ª–∏—è
            </h2>

            <div class="details-card">
                <h3>–û–±—â–∏ –ü—Ä–æ–¥–∞–∂–±–∏ - –ö—Ä–∏—Ç–∏—á–Ω–∞ –ê–Ω–æ–º–∞–ª–∏—è</h3>
                <div class="details-grid">
                    <div class="detail-item">
                        <h4>–ú–µ—Ç—Ä–∏–∫–∞</h4>
                        <div class="value">–û–±—â–∏ –ü—Ä–æ–¥–∞–∂–±–∏</div>
                    </div>
                    <div class="detail-item">
                        <h4>–ü—Ä–∞–≥</h4>
                        <div class="value">–°–ø–∞–¥ —Å –ø–æ–≤–µ—á–µ –æ—Ç 15% —Å–ø—Ä—è–º–æ –≤—á–µ—Ä–∞</div>
                    </div>
                    <div class="detail-item">
                        <h4>–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç</h4>
                        <div class="value critical">-18%</div>
                    </div>
                    <div class="detail-item">
                        <h4>–í—Ä–µ–º–µ –Ω–∞ –¥–µ—Ç–µ–∫—Ü–∏—è</h4>
                        <div class="value">2025-10-02 10:30</div>
                    </div>
                </div>

                <div class="notes-section">
                    <h3>–ó–∞–±–µ–ª–µ–∂–∫–∏ –∏ –•–∏–ø–æ—Ç–µ–∑–∏</h3>
                    <textarea placeholder="–î–æ–±–∞–≤–µ—Ç–µ –∑–∞–±–µ–ª–µ–∂–∫–∏ –∏–ª–∏ —Ö–∏–ø–æ—Ç–µ–∑–∏ –∑–∞ —Ç–∞–∑–∏ –∞–Ω–æ–º–∞–ª–∏—è...">–í—ä–∑–º–æ–∂–Ω–æ –≤–ª–∏—è–Ω–∏–µ –æ—Ç –ø—Ä–æ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞—Ç–∞ –∫–∞–º–ø–∞–Ω–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–∫–ª—é—á–∏ –≤—á–µ—Ä–∞.</textarea>
                    <br>
                    <button class="save-btn" onclick="saveNotes()">–ó–∞–ø–∞–∑–∏ –ó–∞–±–µ–ª–µ–∂–∫–∞</button>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="screen admin-panel">
            <h2 class="screen-title">
                <span>üë®‚Äçüíº</span>
                –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–µ–Ω –ü–∞–Ω–µ–ª
            </h2>

            <div class="admin-stats">
                <div class="admin-card">
                    <h3>8</h3>
                    <p>–û–±—â–æ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</p>
                </div>
                <div class="admin-card">
                    <h3>12</h3>
                    <p>–ê–∫—Ç–∏–≤–Ω–∏ –ê–ª–∞—Ä–º–∏</p>
                </div>
                <div class="admin-card">
                    <h3>156</h3>
                    <p>–î–µ—Ç–µ–∫—Ç–∏—Ä–∞–Ω–∏ –ê–Ω–æ–º–∞–ª–∏–∏</p>
                </div>
                <div class="admin-card">
                    <h3>94%</h3>
                    <p>System Uptime</p>
                </div>
            </div>

            <div class="users-table">
                <table>
                    <thead>
                        <tr>
                            <th>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</th>
                            <th>Email</th>
                            <th>–ö–æ–º–ø–∞–Ω–∏—è</th>
                            <th>–†–æ–ª—è</th>
                            <th>–ü–æ—Å–ª–µ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>–î–∞–Ω–∏–µ–ª–∞ –î–∏–º–æ–≤–∞</td>
                            <td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f195909f98949d90b19489909c819d94df929e9c">[email&#160;protected]</a></td>
                            <td>Stoic 11</td>
                            <td>
                                <select class="role-select">
                                    <option>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                    <option>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</option>
                                    <option>–ê–Ω–∞–ª–∏—Ç–∏–∫</option>
                                </select>
                            </td>
                            <td>–ü—Ä–µ–¥–∏ 5 –º–∏–Ω</td>
                            <td>
                                <button class="btn btn-primary" style="padding: 5px 10px; font-size: 0.8rem;">–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π</button>
                            </td>
                        </tr>
                        <tr>
                            <td>–ü–µ—Ç—ä—Ä –ò–≤–∞–Ω–æ–≤</td>
                            <td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="50203524312210333f3d20313e297e3237">[email&#160;protected]</a></td>
                            <td>Tech Solutions</td>
                            <td>
                                <select class="role-select">
                                    <option>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</option>
                                    <option>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                    <option>–ê–Ω–∞–ª–∏—Ç–∏–∫</option>
                                </select>
                            </td>
                            <td>–ü—Ä–µ–¥–∏ 2 —á–∞—Å–∞</td>
                            <td>
                                <button class="btn btn-primary" style="padding: 5px 10px; font-size: 0.8rem;">–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div id="navigation" class="navigation" style="display: none;">
        <button class="nav-btn active" onclick="showScreen('dashboard')">
            <span>üìä</span>
            <span>–¢–∞–±–ª–æ</span>
        </button>
        <button class="nav-btn" onclick="showScreen('alerts')">
            <span>‚öôÔ∏è</span>
            <span>–ê–ª–∞—Ä–º–∏ (2)</span>
        </button>
        <button class="nav-btn" onclick="showScreen('details')">
            <span>üîç</span>
            <span>–î–µ—Ç–∞–π–ª–∏</span>
        </button>
        <button id="adminNavBtn" class="nav-btn" onclick="showScreen('adminPanel')" style="display: none;">
            <span>üë®‚Äçüíº</span>
            <span>–ê–¥–º–∏–Ω</span>
        </button>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="auth.js"></script>
    <script src="app.js"></script>
</body>
</html>